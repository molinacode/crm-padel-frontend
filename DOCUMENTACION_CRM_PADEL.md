# üèì CRM P√°del - Documentaci√≥n Completa

## üìã Resumen de Funcionalidades

### üéØ Descripci√≥n General
**CRM P√°del** es una aplicaci√≥n web moderna desarrollada en React para la gesti√≥n integral de academias y clubes de p√°del. La aplicaci√≥n permite gestionar alumnos, profesores, clases, pagos, asistencias y ejercicios de manera eficiente y organizada.

### üöÄ Caracter√≠sticas Principales
- **Interfaz moderna y responsive** con dise√±o intuitivo
- **Autenticaci√≥n segura** con Supabase
- **Gesti√≥n completa de usuarios** (alumnos, profesores, administradores)
- **Sistema de clases** con calendario interactivo
- **Control de asistencias** en tiempo real
- **Gesti√≥n de pagos** y facturaci√≥n
- **Biblioteca de ejercicios** categorizados
- **Dashboard con estad√≠sticas** en tiempo real
- **Reportes y an√°lisis** de rendimiento

---

## üõ†Ô∏è Manual de Instalaci√≥n

### üìã Requisitos Previos
- **Node.js** (versi√≥n 16 o superior)
- **npm** o **yarn**
- **Cuenta de Supabase** (gratuita)
- **Git** (opcional, para clonar el repositorio)

### üîß Pasos de Instalaci√≥n

#### 1. Clonar o Descargar el Proyecto
```bash
# Si tienes acceso al repositorio Git
git clone [URL_DEL_REPOSITORIO]
cd crm-padel-frontend

# O descargar y extraer el archivo ZIP
```

#### 2. Instalar Dependencias
```bash
npm install
# o
yarn install
```

#### 3. Configurar Variables de Entorno
Crear un archivo `.env` en la ra√≠z del proyecto:
```env
VITE_SUPABASE_URL=https://tu-proyecto-id.supabase.co
VITE_SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
```

#### 4. Configurar Supabase
1. Crear una cuenta en [Supabase](https://supabase.com)
2. Crear un nuevo proyecto
3. Obtener la URL y la clave p√∫blica (anon key) desde Settings ‚Üí API
4. Configurar las tablas necesarias (ver secci√≥n de Base de Datos)

#### 5. Ejecutar la Aplicaci√≥n
```bash
# Modo desarrollo
npm run dev

# Construir para producci√≥n
npm run build

# Vista previa de producci√≥n
npm run preview
```

### üåê Acceso a la Aplicaci√≥n
- **Desarrollo**: `http://localhost:5173`
- **Producci√≥n**: Seg√∫n la configuraci√≥n del servidor

---

## üë• Manual de Usuario

### üîê Acceso e Inicio de Sesi√≥n

#### Credenciales de Prueba
- **Email**: `admin@test.com`
- **Contrase√±a**: `admin123`

#### Proceso de Login
1. Abrir la aplicaci√≥n en el navegador
2. Introducir las credenciales en el formulario de login
3. Hacer clic en "Iniciar Sesi√≥n"
4. Ser√°s redirigido al Dashboard principal

### üè† Dashboard Principal

El Dashboard es la pantalla principal que muestra:
- **Estad√≠sticas generales**: Total de alumnos, ingresos del mes, clases programadas
- **Clases incompletas**: Clases que necesitan m√°s alumnos
- **√öltimos pagos**: Registro de pagos recientes
- **Resumen visual** de la actividad del club

### üë• Gesti√≥n de Alumnos

#### Ver Lista de Alumnos
1. Navegar a **"Alumnos"** en el men√∫ lateral
2. Ver lista completa con informaci√≥n b√°sica
3. Usar la barra de b√∫squeda para filtrar

#### Agregar Nuevo Alumno
1. Hacer clic en **"‚ûï Nuevo Alumno"**
2. Completar el formulario con:
   - Nombre completo
   - Email
   - Tel√©fono
   - Fecha de nacimiento
   - Nivel de juego
   - Observaciones
3. Hacer clic en **"Guardar"**

#### Ver/Editar Alumno
1. Hacer clic en el nombre del alumno en la lista
2. Ver informaci√≥n completa en la ficha del alumno
3. Hacer clic en **"Editar"** para modificar datos
4. Acceder a **"Seguimiento"** para ver historial

### üë®‚Äçüè´ Gesti√≥n de Profesores

#### Ver Lista de Profesores
1. Navegar a **"Profesores"** en el men√∫ lateral
2. Ver informaci√≥n de contacto y especialidades
3. Usar filtros de b√∫squeda

#### Agregar Nuevo Profesor
1. Hacer clic en **"‚ûï Nuevo Profesor"**
2. Completar datos personales y profesionales
3. Especificar especialidad y horarios disponibles

### üìÖ Gesti√≥n de Clases

#### Vista de Calendario
1. Navegar a **"Clases"** en el men√∫ lateral
2. Ver calendario semanal con todas las clases
3. **Colores diferenciados**:
   - üéØ **Morado**: Clases particulares
   - üè† **Verde**: Clases internas
   - üè´ **Naranja**: Clases de escuela
   - üë• **Azul**: Clases grupales

#### Crear Nueva Clase
1. **Vista Calendario**: Hacer clic en una franja horaria vac√≠a
2. **Vista Tabla**: Usar el formulario lateral
3. Completar informaci√≥n:
   - Nombre de la clase
   - Tipo (particular/grupal/interna/escuela)
   - Nivel (principiante/intermedio/avanzado)
   - Profesor asignado
   - D√≠a y horario
   - Duraci√≥n

#### Gestionar Clases Existentes
- **Click simple**: Asignar alumnos a la clase
- **Doble click**: Eliminar clase permanentemente
- **Cambiar estado**: Cancelar/Reactivar clases

#### Asignar Alumnos a Clases
1. Hacer clic en una clase existente
2. Seleccionar alumnos de la lista disponible
3. Respetar l√≠mites:
   - Clases particulares: 1 alumno
   - Clases grupales: m√°ximo 4 alumnos

### üìã Control de Asistencias

#### Registrar Asistencias
1. Navegar a **"Asistencias"** en el men√∫ lateral
2. Seleccionar la fecha deseada
3. Ver clases programadas para esa fecha
4. Para cada alumno, seleccionar estado:
   - ‚úÖ **Asisti√≥**: El alumno estuvo presente
   - ‚ùå **Falta**: El alumno no asisti√≥
   - ‚ö†Ô∏è **Justificada**: Falta con justificaci√≥n

#### Estados de Asistencia
- **Pendiente**: Sin registrar (estado inicial)
- **Asisti√≥**: Presencia confirmada
- **Falta**: Ausencia sin justificar
- **Justificada**: Ausencia con motivo v√°lido

### üí∞ Gesti√≥n de Pagos

#### Registrar Nuevo Pago
1. Navegar a **"Pagos"** en el men√∫ lateral
2. Completar formulario:
   - Seleccionar alumno
   - Especificar cantidad (‚Ç¨)
   - Mes cubierto
   - M√©todo de pago (transferencia/efectivo/tarjeta)
3. Hacer clic en **"Registrar Pago"**

#### Consultar Pagos
- **Ver todos**: Lista completa de pagos
- **Filtrar por alumno**: Seleccionar alumno espec√≠fico
- **Historial**: Pagos ordenados por fecha

### üí™ Gesti√≥n de Ejercicios

#### Ver Biblioteca de Ejercicios
1. Navegar a **"Ejercicios"** en el men√∫ lateral
2. Ver ejercicios categorizados por:
   - Tipo de ejercicio
   - Dificultad (F√°cil/Intermedio/Avanzado)
   - Duraci√≥n estimada
   - Descripci√≥n detallada

#### Agregar Nuevo Ejercicio
1. Hacer clic en **"‚ûï Nuevo Ejercicio"**
2. Completar informaci√≥n:
   - Nombre del ejercicio
   - Categor√≠a
   - Dificultad
   - Duraci√≥n en minutos
   - Descripci√≥n detallada
   - Instrucciones paso a paso

#### Filtrar Ejercicios
- **Por nombre**: B√∫squeda de texto libre
- **Por categor√≠a**: Filtro por tipo de ejercicio
- **Por dificultad**: Nivel de complejidad

### üè¢ Gesti√≥n de Instalaciones

#### Ver Estad√≠sticas Financieras
1. Navegar a **"Instalaciones"** en el men√∫ lateral
2. Ver resumen de:
   - **Ingresos totales**: Suma de todos los ingresos
   - **Gastos totales**: Costos operativos
   - **Beneficio neto**: Diferencia entre ingresos y gastos

#### An√°lisis Temporal
- **Gr√°fico mensual**: Evoluci√≥n de ingresos y gastos
- **Filtro por fecha**: Ver datos hasta fecha espec√≠fica
- **Clases del d√≠a**: Actividades programadas

### üë§ Perfil de Usuario

#### Acceder al Perfil
1. Hacer clic en el avatar en la esquina superior derecha
2. Seleccionar **"Perfil"**

#### Editar Informaci√≥n
- Actualizar datos personales
- Cambiar foto de perfil
- Modificar informaci√≥n de contacto

---

## üóÑÔ∏è Estructura de Base de Datos

### üìã Tablas Principales

#### Tabla `usuarios`
```sql
CREATE TABLE usuarios (
  id UUID REFERENCES auth.users(id) PRIMARY KEY,
  nombre TEXT,
  telefono TEXT,
  foto_url TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
```

#### Tabla `alumnos`
```sql
CREATE TABLE alumnos (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  nombre TEXT NOT NULL,
  apellidos TEXT,
  email TEXT,
  telefono TEXT,
  fecha_nacimiento DATE,
  nivel_juego TEXT,
  observaciones TEXT,
  activo BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW()
);
```

#### Tabla `profesores`
```sql
CREATE TABLE profesores (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  nombre TEXT NOT NULL,
  apellidos TEXT,
  email TEXT,
  telefono TEXT,
  especialidad TEXT,
  activo BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW()
);
```

#### Tabla `clases`
```sql
CREATE TABLE clases (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  nombre TEXT NOT NULL,
  tipo_clase TEXT CHECK (tipo_clase IN ('particular', 'grupal', 'interna', 'escuela')),
  nivel_clase TEXT CHECK (nivel_clase IN ('principiante', 'intermedio', 'avanzado')),
  dia_semana TEXT,
  hora_inicio TIME,
  hora_fin TIME,
  profesor TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
```

#### Tabla `eventos_clase`
```sql
CREATE TABLE eventos_clase (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  clase_id UUID REFERENCES clases(id),
  fecha DATE NOT NULL,
  hora_inicio TIME,
  hora_fin TIME,
  estado TEXT DEFAULT 'programada',
  created_at TIMESTAMP DEFAULT NOW()
);
```

#### Tabla `alumnos_clases`
```sql
CREATE TABLE alumnos_clases (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  alumno_id UUID REFERENCES alumnos(id),
  clase_id UUID REFERENCES clases(id),
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(alumno_id, clase_id)
);
```

#### Tabla `asistencias`
```sql
CREATE TABLE asistencias (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  alumno_id UUID REFERENCES alumnos(id),
  clase_id UUID REFERENCES clases(id),
  fecha DATE NOT NULL,
  estado TEXT CHECK (estado IN ('asistio', 'falta', 'justificada')),
  created_at TIMESTAMP DEFAULT NOW()
);
```

#### Tabla `pagos`
```sql
CREATE TABLE pagos (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  alumno_id UUID REFERENCES alumnos(id),
  cantidad DECIMAL(10,2) NOT NULL,
  mes_cubierto TEXT NOT NULL,
  metodo TEXT DEFAULT 'transferencia',
  fecha_pago TIMESTAMP DEFAULT NOW(),
  created_at TIMESTAMP DEFAULT NOW()
);
```

#### Tabla `ejercicios`
```sql
CREATE TABLE ejercicios (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  nombre TEXT NOT NULL,
  categoria TEXT,
  dificultad TEXT CHECK (dificultad IN ('F√°cil', 'Intermedio', 'Avanzado')),
  duracion_minutos INTEGER,
  descripcion TEXT,
  instrucciones TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);
```

---

## üöÄ Tecnolog√≠as Utilizadas

### Frontend
- **React 19.1.1**: Framework principal
- **React Router DOM 7.8.2**: Navegaci√≥n entre p√°ginas
- **Tailwind CSS 4.1.12**: Framework de estilos
- **Chart.js 4.5.0**: Gr√°ficos y visualizaciones
- **React Big Calendar 1.19.4**: Componente de calendario
- **Date-fns 4.1.0**: Manipulaci√≥n de fechas

### Backend y Base de Datos
- **Supabase**: Backend como servicio (BaaS)
- **PostgreSQL**: Base de datos relacional
- **Row Level Security (RLS)**: Seguridad a nivel de fila

### Herramientas de Desarrollo
- **Vite 7.1.2**: Herramienta de construcci√≥n
- **ESLint 9.33.0**: Linter de c√≥digo
- **PostCSS 8.5.6**: Procesador de CSS
- **Autoprefixer 10.4.21**: Prefijos CSS autom√°ticos

---

## üîß Configuraci√≥n Avanzada

### Variables de Entorno
```env
# Supabase Configuration
VITE_SUPABASE_URL=https://tu-proyecto-id.supabase.co
VITE_SUPABASE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# Opcional: Configuraci√≥n adicional
VITE_APP_NAME=CRM P√°del
VITE_APP_VERSION=1.0.0
```

### Scripts Disponibles
```json
{
  "dev": "vite",                    // Servidor de desarrollo
  "build": "vite build",           // Construcci√≥n para producci√≥n
  "lint": "eslint .",              // Verificaci√≥n de c√≥digo
  "preview": "vite preview"         // Vista previa de producci√≥n
}
```

### Estructura de Archivos
```
src/
‚îú‚îÄ‚îÄ components/          # Componentes reutilizables
‚îÇ   ‚îú‚îÄ‚îÄ FormularioAlumno.jsx
‚îÇ   ‚îú‚îÄ‚îÄ FormularioClase.jsx
‚îÇ   ‚îú‚îÄ‚îÄ FormularioProfesor.jsx
‚îÇ   ‚îú‚îÄ‚îÄ FormularioEjercicio.jsx
‚îÇ   ‚îú‚îÄ‚îÄ ListaAlumnos.jsx
‚îÇ   ‚îú‚îÄ‚îÄ Login.jsx
‚îÇ   ‚îú‚îÄ‚îÄ ModalConfirmation.jsx
‚îÇ   ‚îú‚îÄ‚îÄ navbar.jsx
‚îÇ   ‚îî‚îÄ‚îÄ Sidebar.jsx
‚îú‚îÄ‚îÄ contexts/           # Contextos de React
‚îÇ   ‚îî‚îÄ‚îÄ AuthContext.jsx
‚îú‚îÄ‚îÄ lib/               # Librer√≠as y utilidades
‚îÇ   ‚îî‚îÄ‚îÄ supabase.js
‚îú‚îÄ‚îÄ pages/             # P√°ginas principales
‚îÇ   ‚îú‚îÄ‚îÄ Dashboard.jsx
‚îÇ   ‚îú‚îÄ‚îÄ Alumnos.jsx
‚îÇ   ‚îú‚îÄ‚îÄ Profesores.jsx
‚îÇ   ‚îú‚îÄ‚îÄ Clases.jsx
‚îÇ   ‚îú‚îÄ‚îÄ Pagos.jsx
‚îÇ   ‚îú‚îÄ‚îÄ Asistencias.jsx
‚îÇ   ‚îú‚îÄ‚îÄ Ejercicios.jsx
‚îÇ   ‚îú‚îÄ‚îÄ Instalaciones.jsx
‚îÇ   ‚îî‚îÄ‚îÄ PerfilUsuario.jsx
‚îú‚îÄ‚îÄ App.jsx            # Componente principal
‚îú‚îÄ‚îÄ main.jsx          # Punto de entrada
‚îî‚îÄ‚îÄ index.css         # Estilos globales
```

---

## üÜò Soluci√≥n de Problemas

### Problemas Comunes

#### 1. Error de Conexi√≥n con Supabase
**S√≠ntomas**: La aplicaci√≥n muestra datos de demostraci√≥n
**Soluci√≥n**:
1. Verificar que las variables de entorno est√©n correctas
2. Comprobar que el proyecto de Supabase est√© activo
3. Verificar la URL y clave en Settings ‚Üí API

#### 2. Error de Autenticaci√≥n
**S√≠ntomas**: No se puede iniciar sesi√≥n
**Soluci√≥n**:
1. Usar las credenciales de prueba: `admin@test.com` / `admin123`
2. Verificar que la tabla `usuarios` est√© creada
3. Comprobar la configuraci√≥n de RLS en Supabase

#### 3. Datos No Se Cargan
**S√≠ntomas**: P√°ginas en blanco o errores de carga
**Soluci√≥n**:
1. Verificar la consola del navegador para errores
2. Comprobar la conexi√≥n a internet
3. Verificar que las tablas est√©n creadas correctamente

#### 4. Problemas de Estilos
**S√≠ntomas**: Interfaz sin estilos o mal formateada
**Soluci√≥n**:
1. Ejecutar `npm install` para reinstalar dependencias
2. Verificar que Tailwind CSS est√© configurado
3. Limpiar cach√© del navegador

### Logs y Debugging
- **Consola del navegador**: F12 ‚Üí Console
- **Logs de Supabase**: Dashboard ‚Üí Logs
- **Logs de la aplicaci√≥n**: Verificar mensajes en consola

---

## üìû Soporte y Contacto

### Recursos de Ayuda
- **Documentaci√≥n de Supabase**: [docs.supabase.com](https://docs.supabase.com)
- **Documentaci√≥n de React**: [react.dev](https://react.dev)
- **Documentaci√≥n de Tailwind**: [tailwindcss.com](https://tailwindcss.com)

### Informaci√≥n del Proyecto
- **Versi√≥n**: 1.0.0
- **√öltima actualizaci√≥n**: Enero 2024
- **Desarrollado con**: React + Supabase + Tailwind CSS

---

## üìù Notas de Versi√≥n

### Versi√≥n 1.0.0 (Enero 2024)
- ‚úÖ Gesti√≥n completa de alumnos
- ‚úÖ Gesti√≥n de profesores
- ‚úÖ Sistema de clases con calendario
- ‚úÖ Control de asistencias
- ‚úÖ Gesti√≥n de pagos
- ‚úÖ Biblioteca de ejercicios
- ‚úÖ Dashboard con estad√≠sticas
- ‚úÖ Gesti√≥n de instalaciones
- ‚úÖ Autenticaci√≥n segura
- ‚úÖ Interfaz responsive

---

*Esta documentaci√≥n est√° actualizada para la versi√≥n 1.0.0 del CRM P√°del. Para actualizaciones o soporte t√©cnico, consulta la secci√≥n de contacto.*
